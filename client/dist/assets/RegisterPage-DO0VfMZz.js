import{d as k,r as n,c,b as l,h as o,k as m,e as d,w as v,q as _,j as $,u as R,s as C,a as g}from"./index-BPnE_UG1.js";import{u as E,I as L,r as p,e as U}from"./IconSuccess-5yDAAN9s.js";import{a as u,_ as B}from"./ButtonComponent.vue_vue_type_script_setup_true_lang-vLD6_ig5.js";const N={key:0,role:"alert",class:"flex flex-col items-center gap-4 py-10 font-medium"},P={class:"size-fit rounded-full bg-green-50 p-2"},S={key:1,class:"m-auto w-[90%] max-w-md space-y-4 pt-10"},T={class:"flex gap-2 text-sm"},j=k({__name:"RegisterPage",setup(q){const x=R(),V=C(),t=n(!1),f=n(!1),w=n(void 0),a=n({email:"",password:"",lastname:"",firstname:""}),r=E({email:{required:p,email:U},password:{required:p},lastname:{required:p}},a),y=async()=>{if(!await r.value.$validate())return;t.value=!0;const{error:e}=await x.createAccount(a.value);if(e){t.value=!1,w.value=e;return}t.value=!1,f.value=!0;const i=setTimeout(async()=>{clearTimeout(i),await V.push("/auth/login")},2e3)};return(b,e)=>{const i=$("RouterLink");return f.value?(g(),c("div",N,[l("div",P,[o(L)]),e[4]||(e[4]=l("span",{class:"flex items-center gap-1"},[m(" Operation "),l("span",{class:"text-green-500"},"succeed")],-1))])):(g(),c("div",S,[e[8]||(e[8]=l("span",{class:"text-xl font-bold"}," Welcome it's a pleasure have you among us. ",-1)),l("form",{class:"flex flex-col gap-2",onSubmit:_(y,["prevent"])},[o(u,{modelValue:a.value.lastname,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.lastname=s),errors:d(r).lastname.$errors,label:"Enter your lastname",name:"lastname"},null,8,["modelValue","errors"]),o(u,{modelValue:a.value.firstname,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.firstname=s),label:"Enter your firstname",name:"firstname"},null,8,["modelValue"]),o(u,{modelValue:a.value.email,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.email=s),errors:d(r).email.$errors,label:"Enter your email",name:"email"},null,8,["modelValue","errors"]),o(u,{modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password=s),errors:d(r).password.$errors,label:"Enter your password",name:"password"},null,8,["modelValue","errors"]),o(B,{type:"submit",class:"mt-4 p-4",isLoading:t.value},{default:v(()=>e[5]||(e[5]=[m(" Register ")])),_:1},8,["isLoading"])],32),l("div",T,[e[7]||(e[7]=l("span",null,"Do you already have account",-1)),o(i,{to:"/auth/login",class:"font-bold text-blue-500 underline underline-offset-4"},{default:v(()=>e[6]||(e[6]=[m(" login ")])),_:1})])]))}}});export{j as default};
