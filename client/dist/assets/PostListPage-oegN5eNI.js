import{d as m,r as d,o as w,u as h,c as i,a as n,b as e,t as p,e as v,F as y,f as x,g as f,h as g,_ as B,i as C,w as $}from"./index-BPnE_UG1.js";import{u as b}from"./method-BCboZ13h.js";import{_ as I,a as P}from"./ButtonComponent.vue_vue_type_script_setup_true_lang-vLD6_ig5.js";const A={class:"space-y-4 rounded-lg border bg-white p-4 shadow"},N={class:"flex gap-2"},V={class:"flex flex-col gap-1"},z={class:"font-semibold"},L={class:"text-sm"},S={class:"size-20 border rounded-lg shrink-0"},T=["src"],j={class:"flex items-center gap-0.5 text-xs"},E={class:"font-medium"},F=m({__name:"PostCard",props:{post:{}},setup(r){const t=h(),o=r,l=d(!1),s=d(""),u=d(""),c=async()=>{const{data:a}=await t.getUserById(o.post.userId);a&&(s.value=a.lastname+" "+a.firstname)},k=async()=>{const{data:a}=await t.getFileById(o.post.medias[0]);a&&(u.value=a)};return w(async()=>{l.value=!0,await Promise.all([k(),c()]),l.value=!1}),t.getUserById(o.post.userId).then(a=>{const{data:_}=a;_&&(s.value=_.lastname+" "+_.firstname),l.value=!1}),(a,_)=>(n(),i("div",A,[e("div",N,[e("div",V,[e("h2",z,p(a.post.title),1),e("span",L,p(a.post.content),1)]),e("div",S,[e("img",{src:u.value,alt:"picture",class:"rounded-lg size-full object-cover"},null,8,T)])]),e("div",j,[e("span",null,p(v(b)(a.post.createdAt)),1),e("span",E,"by "+p(s.value),1)])]))}}),M={class:"divide-y divide-gray-100 rounded-lg bg-white"},U={class:"py-1"},D={class:"grid grid-cols-4"},H=m({__name:"TagCard",props:{tag:{}},setup(r){const t=h(),o=r,l=d([]);return t.getPostsByTag(o.tag.id).then(s=>{console.log("RESPONSE",s),s.data&&(l.value=s.data)}),(s,u)=>(n(),i("div",M,[e("h1",U,p(s.tag.name),1),e("div",D,[(n(!0),i(y,null,x(l.value,c=>(n(),f(F,{key:c.id,post:c},null,8,["post"]))),128))])]))}});function R(r,t){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z","clip-rule":"evenodd"})])}const Z={class:"flex flex-col gap-4 items-center justify-center pt-10"},O={class:"text-sm flex flex-col gap-2 items-center font-bold"},q=m({__name:"NoItemsComponent",props:{message:{default:"No Post has been added for now."},handleAddButtonClicked:{}},setup(r){return(t,o)=>(n(),i("div",Z,[g(B,{class:"size-[300px]",path:"paper.png"}),e("div",O,[e("span",null,p(t.message),1),t.handleAddButtonClicked?(n(),f(I,{key:0,class:"p-1",onClick:t.handleAddButtonClicked},{default:$(()=>[o[0]||(o[0]=e("span",null,"Add",-1)),g(v(R),{class:"size-5"})]),_:1},8,["onClick"])):C("",!0)])]))}}),G={key:0,class:"flex p-10 justify-center items-center"},J={key:1,class:"flex flex-col gap-4 p-4"},X=m({__name:"PostListPage",setup(r){const t=h();d();const o=d(!0),l=d([]);return t.getAllTags().then(s=>{s.data&&(l.value=s.data),o.value=!1}),(s,u)=>o.value?(n(),i("div",G,u[0]||(u[0]=[e("span",{class:"text-gray-900 loading loading-xl loading-ring"},null,-1)]))):l.value.length?(n(),i("div",J,[g(P,{placeholder:"search over posts...",name:"search"}),(n(!0),i(y,null,x(l.value,c=>(n(),f(H,{key:c.id,tag:c},null,8,["tag"]))),128))])):(n(),f(q,{key:2,"handle-add-button-clicked":()=>null}))}});export{X as default};
