import{d as V,r as l,c as m,b as s,h as o,k as u,e as p,w as c,q as L,j as k,s as $,a as f,u as C}from"./index-BPnE_UG1.js";import{u as B,I as E,r as v,e as N}from"./IconSuccess-5yDAAN9s.js";import{a as g,_ as P}from"./ButtonComponent.vue_vue_type_script_setup_true_lang-vLD6_ig5.js";const R={key:0,role:"alert",class:"flex flex-col items-center gap-4 py-10 font-medium"},S={class:"size-fit rounded-full bg-green-50 p-2"},T={key:1,class:"m-auto w-[90%] max-w-md space-y-4 pt-10"},q={class:"flex gap-2 text-sm"},z=V({__name:"LoginPage",setup(I){const x=C(),w=$(),t=l(!1),d=l(!1),y=l(void 0),a=l({email:"",password:""}),r=B({email:{required:v,email:N},password:{required:v}},a),_=async()=>{if(!await r.value.$validate())return;t.value=!0;const{error:e}=await x.login(a.value);if(e){t.value=!1,y.value=e;return}t.value=!1,d.value=!0;const n=setTimeout(async()=>{clearTimeout(n),await w.push("/")},2e3)};return(b,e)=>{const n=k("RouterLink");return d.value?(f(),m("div",R,[s("div",S,[o(E)]),e[2]||(e[2]=s("span",{class:"flex items-center gap-1"},[u(" Operation "),s("span",{class:"text-green-500"},"succeed")],-1))])):(f(),m("div",T,[e[6]||(e[6]=s("p",{class:"text-xl font-bold"},"Welcome it's a pleasure to see you again",-1)),s("form",{class:"flex flex-col gap-2",onSubmit:L(_,["prevent"])},[o(g,{modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=i=>a.value.email=i),errors:p(r).email.$errors,label:"Enter your email",name:"email"},null,8,["modelValue","errors"]),o(g,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=i=>a.value.password=i),errors:p(r).password.$errors,label:"Enter your password",name:"password"},null,8,["modelValue","errors"]),o(P,{"data-test":"login-button",type:"submit",class:"mt-4 p-4",isLoading:t.value},{default:c(()=>e[3]||(e[3]=[u(" Login ")])),_:1},8,["isLoading"])],32),s("div",q,[e[5]||(e[5]=s("span",null,"You don't yet have account",-1)),o(n,{to:"/auth/register",class:"font-bold text-blue-500 underline underline-offset-4"},{default:c(()=>e[4]||(e[4]=[u(" register ")])),_:1})])]))}}});export{z as default};
